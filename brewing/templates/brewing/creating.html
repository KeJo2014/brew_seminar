{% extends "brewing/template.html" %}
{% block title %}Erstellen{% endblock %}
{% block maincontent %}
<h1>Rezept Erstellen</h1>
<div class="inputBox">
    <h2>Brauwasser</h2>
    <div id="waterBox">
        <input type="text" class="input" id="guss1" name="guss1" placeholder="1. Guss" required title="GUSS">
        <input type="number" class="input inputSpace" id="gussvol1" name="gussvol1" placeholder="Gussvolumen [l]"
            required title="GUSSVOLUMEN">
    </div>
    <div class="buttonBox">
        <button type="button" onclick="addWater()"><i class="fa-solid fa-plus"></i></button>
        <button type="button" onclick="delWater()"><i class="fa-solid fa-minus"></i></button>
    </div>
</div>
<div class="inputBox">
    <h2>Schüttung</h2>
    <div id="maltBox">
        <input type="text" class="input" id="malz1" name="malz1" placeholder="1. Malzsorte" required title="MALZSORTE">
        <input type="number" class="input inputSpace" id="malzmenge1" name="malzmenge1" placeholder="Malzmenge [g]"
            required title="MALZMENGE">
    </div>
    <div class="buttonBox">
        <button type="button" onclick="addMalt()"><i class="fa-solid fa-plus"></i></button>
        <button type="button" onclick="delMalt()"><i class="fa-solid fa-minus"></i></button>
    </div>
</div>
<script>
    var indexMalt = 1;
    var indexWater = 1;

    function addMalt() {
        indexMalt++;
        var inputMaltText = document.createElement('input');
        inputMaltText.setAttribute('type', 'text');
        inputMaltText.setAttribute('class', 'input');
        inputMaltText.setAttribute('id', 'malz' + indexMalt);
        inputMaltText.setAttribute('name', 'malz' + indexMalt);
        inputMaltText.setAttribute('placeholder', indexMalt + '. Malzsorte');
        inputMaltText.setAttribute('title', 'MALZSORTE');

        var inputMaltNumber = document.createElement('input');
        inputMaltNumber.setAttribute('type', 'number');
        inputMaltNumber.setAttribute('class', 'input inputSpace');
        inputMaltNumber.setAttribute('id', 'malzmenge' + indexMalt);
        inputMaltNumber.setAttribute('name', 'malzmenge' + indexMalt);
        inputMaltNumber.setAttribute('placeholder', 'Malzmenge [g]');
        inputMaltNumber.setAttribute('title', 'MALZMENGE');

        var parent = document.querySelector('#maltBox')
        parent.appendChild(inputMaltText);
        parent.appendChild(inputMaltNumber);

    }

    function delMalt() {
        var idMalz = 'malz' + indexMalt;
        var idMalzmenge = 'malzmenge' + indexMalt;
        document.getElementById(idMalz).remove();
        document.getElementById(idMalzmenge).remove();
        indexMalt--;
    }

    function addWater() {
        indexWater++;
        var inputWaterText = document.createElement('input');
        inputWaterText.setAttribute('type', 'text');
        inputWaterText.setAttribute('class', 'input');
        inputWaterText.setAttribute('id', 'guss' + indexWater);
        inputWaterText.setAttribute('name', 'guss' + indexWater);
        inputWaterText.setAttribute('placeholder', indexWater + '. Guss');
        inputWaterText.setAttribute('title', 'GUSS');

        var inputWaterNumber = document.createElement('input');
        inputWaterNumber.setAttribute('type', 'number');
        inputWaterNumber.setAttribute('class', 'input inputSpace');
        inputWaterNumber.setAttribute('id', 'gussvol' + indexWater);
        inputWaterNumber.setAttribute('name', 'gussvol' + indexWater);
        inputWaterNumber.setAttribute('placeholder', 'Gussvolumen [l]');
        inputWaterNumber.setAttribute('title', 'GUSSVOLUMEN');

        var parent = document.querySelector('#waterBox')
        parent.appendChild(inputWaterText);
        parent.appendChild(inputWaterNumber);

    }

    function delWater() {
        var idWater = 'guss' + indexWater;
        var idWaterVol = 'gussvol' + indexWater;
        document.getElementById(idWater).remove();
        document.getElementById(idWaterVol).remove();
        indexWater--;
    }
</script>

{% endblock %}
{% block sidecontent %}
<div class="inputBox">
    <input type="text" class="input" id="name" name="name" placeholder="Name" required title="NAME">
    <input type="date" class="input" id="date" name="date" placeholder="Datum" required title="DATUM">
    <input type="text" class="input" id="sort" name="sort" placeholder="Biersorte" required title="BIERSORTE">
    <input type="text" class="input" id="author" name="author" placeholder="Autor" required title="AUTOR">
</div>
<div class="inputBox">
    <input type="number" class="input numberInput" id="ausschlagswuerze" name="ausschlagswuerze"
        placeholder="Ausschlagswürze [l]" required min="0" title="AUSSCHLAGWÜRZE">
    <input type="number" class="input numberInput" id="sudhausausbeute" name="sudhausausbeute"
        placeholder="Sudhausausbeute [l]" required min="0" title="SUDHAUSAUSBEUTE">
</div>
<div class="inputBox">
    <input type="number" class="input numberInput" step="0.1" id="stammwuerze" name="stammwuerze"
        placeholder="Stammwürze [%]" required min="0" title="STAMMWÜRZE">
    <input type="number" class="input numberInput" id="bittere" name="bittere" placeholder="Bittere [IBU]" required
        min="0" title="BITTERE">
    <input type="number" class="input numberInput" id="farbe" name="farbe" placeholder="Farbe [EBC]" required min="0"
        title="FARBE">
    <input type="number" class="input numberInput" id="alkohol" step="0.1" name="alkohol" placeholder="Alkohol [‰]"
        required min="0" title="ALKOHOL">
</div>
<div class="inputBox">
    <textarea id="beschreibung" class="input" name="beschreibung" rows="4" cols="50" placeholder="Beschreibung"
        title="BESCHREIBUNG"></textarea>
</div>
{% endblock %}
<!-- 
{"recipe":{
    "name":"Mandarina Bavaria BM50+",
    "subName":"Helles Hefeweizen",
    "taste":{
        "original_extract":12.3,
        "bitter":13,
        "color":8,
        "alcohol":5,
        "description":"Aufbauend auf dem schon existierenden Mandarina hier bei MMUM. Zitrus/Mandarina kommt schön durch aber überlagert nicht, das eher spritzig karbonisiert ergibt ein sehr frisches Weißbier. Andere Hefe (Lallemand Munich Wheat) eher kühl vergoren ist der größte Unterschied, gebraut im BM50+ mit LOB, Rezept berechnet aus Brewfather."},
"relative":{
    "cast word":50,
    "brewhouseYield":57},
"data":{
    "brewing_water":{
        "mainBuilding":60,
        "digest":10,
        "total":70},
    "bulk":{
        "wheatMalt":6.5,
        "pilsner":3.2,
        "wiener":3.2,
        "total":12.9},
    "maischplan":{
        "Einmaischen":55,
        "Abmaischen":72,
        "rests":{
            "first":{
                "temperature":55,
                "duration":5},
            "second":{
                "temperature":63,
                "duration":30},
            "third":{
                "temperature":72,
                "duration":30},
            "total":3}}},
        "wuerzekochen":{
            "duration":60,
            "hop":{
                "first":{
                    "name":"Magnum",
                    "mass":13,
                    "time":1,
                    "alpha-acid":12},
                "second":{
                    "name":
                    "Mandarina",
                    "mass":35,
                    "time":40,
                    "alpha-acid":8.5},
                "third":{
                    "name":"Mandarina",
                    "mass":48,
                    "time":60,
                    "alpha-acid":8.5}}},
            "fermentation":{
                "name":"Lallemand Munich Wheat",
                "fermentationTemperature":"17-19",
                "finalAttenuation":75,
                "carbonification":6},
"link":"https://www.maischemalzundmehr.de/index.php?id=1592&inhaltmitte=rezept"},
"roadmap":{
    "points":[
        "Geräte überprüfen",
        "Materialien überprüfen",
        "Maischen",
        "Läutern",
        "Kochen",
        "Gären"],
    "notes":[
        "Geräte überprüfen",
        "Materialien überprüfen",
        "Maischen",
        "Läutern",
        "Kochen",
        "Gären"]}} 
    
    "Name": "Mandarina Bavaria BM50+ LOB",
    "Datum": "09.12.2021",
    "Sorte": "Helles Hefeweizen",
    "Autor": "Bamber",
    "Ausschlagswuerze": 50,
    "Sudhausausbeute": 57,
    "Stammwuerze": 12.3,
    "Bittere": 13,
    "Farbe": "8",
    "Alkohol": 5,
    "Kurzbeschreibung": "Aufbauend auf dem schon existierenden Mandarina hier bei MMUM. Zitrus\/Mandarina kommt sch\u00f6n durch aber \u00fcberlagert nicht, das eher spritzig karbonisiert ergibt ein sehr frisches Wei\u00dfbier. Andere Hefe (Lallemand Munich Wheat) eher k\u00fchl vergoren ist der gr\u00f6\u00dfte Unterschied, gebraut im BM50+ mit LOB, Rezept berechnet aus Brewfather. ",
    "Infusion_Hauptguss": "60",
    "Malz1": "Weizenmalz ",
    "Malz1_Menge": 6.5,
    "Malz1_Einheit": "kg",
    "Malz2": "Pilsner",
    "Malz2_Menge": 3.2,
    "Malz2_Einheit": "kg",
    "Malz3": "Wiener",
    "Malz3_Menge": 3.2,
    "Malz3_Einheit": "kg",
    "Maischform": "infusion",
    "Infusion_Einmaischtemperatur": 55,
    "Infusion_Rasttemperatur1": "55",
    "Infusion_Rastzeit1": "5",
    "Infusion_Rasttemperatur2": "63",
    "Infusion_Rastzeit2": "30",
    "Infusion_Rasttemperatur3": "72",
    "Infusion_Rastzeit3": "30",
    "Abmaischtemperatur": "72",
    "Nachguss": "10",
    "Kochzeit_Wuerze": "60",
    "Hopfen_1_Sorte": "Magnum ",
    "Hopfen_1_Menge": "11",
    "Hopfen_1_alpha": "12",
    "Hopfen_1_Kochzeit": "60",
    "Hopfen_2_Sorte": "Mandarina",
    "Hopfen_2_Menge": "35",
    "Hopfen_2_alpha": "8.5",
    "Hopfen_2_Kochzeit": "20",
    "Hopfen_3_Sorte": "Mandarina",
    "Hopfen_3_Menge": "48",
    "Hopfen_3_alpha": "8.5",
    "Hopfen_3_Kochzeit": "0",
    "Hefe": "Lallemand Munich Wheat",
    "Gaertemperatur": "17-19",
    "Endvergaerungsgrad": "75",
    "Karbonisierung": "6",
    "Anmerkung_Autor": "Wasser wurde nicht behandelt, ist durchaus \u201ehart\u201c, hat nicht geschadet "
-->